<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advisor Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        body {
            background: #f0f2f5;
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background: lightgray; 
            color: black;
            display: flex;
            flex-direction: column;
            padding: 20px;
        }

        .sidebar h2 {
            margin-bottom: 30px;
            font-size: 22px;
            text-align: center;
        }

        .sidebar a {
            color: black;
            text-decoration: none;
            margin: 10px 0;
            padding: 12px;
            border-radius: 8px;
            transition: background 0.3s;
        }

        .sidebar a:hover {
            background: white;
        }

        .logout-btn {
            margin-top: auto;
            padding: 12px;
            background: black;
            color: white;
            text-align: center;
            border-radius: 8px;
            cursor: pointer;
        }

        /* Main content */
        .main-content {
            flex: 1;
            padding: 30px;
        }

        #add-section-bar {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        #add-section-bar div {
            display: flex;
            align-items: center;
            background: lightgray;
            padding: 12px 20px;
            border-radius: 12px;
            
            /* Increased width */
            width: 95%;
            max-width: 1100px;  /* You can increase more if needed */

            cursor: pointer;
            color: black;
            font-weight: bold;
            justify-content: space-between;
        }

        #add-section-form {
            display: none;
            justify-content: center;
            margin-bottom: 20px;
        }

        #add-section-form input {
            padding: 8px;
            margin-right: 10px;
            border-radius: 5px;
            border: 1px solid white;
            width: 300px;
        }

        #add-section-form button {
            padding: 8px 12px;
            background: darkgray;
            color: black;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .card-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .card {
            background: lightgray;
            padding: 20px 30px;
            border-radius: 12px;
            box-shadow: 0 4px 10px black;

            /* Increased width */
            width: 95%;
            max-width: 1100px;  /* You can increase more if needed */

            margin: 0 auto;
            text-align: left;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .delete-btn {
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 6px 10px;
            cursor: pointer;
        }

        /* MODAL FOR CHOOSING NUMBER OF SECTIONS */
        #sectionModal {
            position: fixed;
            top: 0; left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            display: none;
            justify-content: center;
            align-items: center;
        }

        #modalContent {
            background: white;
            padding: 30px;
            border-radius: 12px;
            width: 350px;
            text-align: center;
            box-shadow: 0 4px 15px black;
        }

        #modalContent input {
            width: 100%;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid gray;
            margin-top: 15px;
        }

        #modalContent button {
            width: 100%;
            padding: 10px;
            background: black;
            color: white;
            border: none;
            margin-top: 15px;
            border-radius: 6px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <!-- Sidebar -->
    <div class="sidebar">
        <h2>Advisor</h2>
        <a href="#">Dashboard</a>
        <a href="#">Research Analytics</a>
        <div class="logout-btn" onclick="logout()">Logout</div>
    </div>

    <!-- Modal: Choose Number of Sections -->
    <div id="sectionModal">
        <div id="modalContent">
            <h3>How many sections do you want?</h3>
            <input type="number" id="sectionCount" placeholder="Enter number">
            <button onclick="saveSectionCount()">Continue</button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <h1>Welcome, Advisor!</h1>

        <div id="add-section-bar">
            <div id="add-section-btn">
                <span>Add New Section</span>
                <span style="font-size: 20px;">+</span>
            </div>
        </div>

        <div id="add-section-form">
            <input type="text" id="section-title" placeholder="Section Title">
            <button onclick="addSection()">Add</button>
        </div>

        <div class="card-container"></div>
    </div>

    <script>
/* GLOBAL */
const cardContainer = document.querySelector(".card-container");

/* LOAD SECTIONS */
function loadSections() {
    const sections = JSON.parse(localStorage.getItem("sections")) || [];
    cardContainer.innerHTML = "";
    sections.forEach(title => createCard(title));
}

/* SAVE SECTION */
function saveSection(title) {
    const sections = JSON.parse(localStorage.getItem("sections")) || [];
    sections.push(title);
    localStorage.setItem("sections", JSON.stringify(sections));
}

/* ADD SECTION */
function addSection() {
    const input = document.getElementById("section-title");
    const title = input.value.trim();

    if (!title) {
        alert("Please enter a section title.");
        return;
    }

    saveSection(title);
    loadSections();
    input.value = "";
}

/* DELETE SECTION */
function deleteSection(title) {
    let sections = JSON.parse(localStorage.getItem("sections")) || [];
    sections = sections.filter(section => section !== title);
    localStorage.setItem("sections", JSON.stringify(sections));
    loadSections();
}

/* RENAME SECTION */
function renameSection(oldTitle) {
    let sections = JSON.parse(localStorage.getItem("sections")) || [];
    const newTitle = prompt("Enter new section name:", oldTitle);

    if (!newTitle || newTitle.trim() === "") return;

    const index = sections.indexOf(oldTitle);
    if (index !== -1) sections[index] = newTitle.trim();

    localStorage.setItem("sections", JSON.stringify(sections));
    loadSections();
}

/* CREATE CARD */
function createCard(title) {
    const card = document.createElement("div");
    card.classList.add("card");

    const text = document.createElement("h3");
    text.textContent = title;

    const buttonBox = document.createElement("div");
    buttonBox.style.display = "flex";
    buttonBox.style.gap = "10px";

    const renameBtn = document.createElement("button");
    renameBtn.textContent = "Rename";
    renameBtn.style.background = "#3b82f6";
    renameBtn.style.color = "white";
    renameBtn.style.border = "none";
    renameBtn.style.padding = "6px 10px";
    renameBtn.style.borderRadius = "5px";
    renameBtn.style.cursor = "pointer";

    renameBtn.onclick = (e) => {
        e.stopPropagation();
        renameSection(title);
    };

    const deleteBtn = document.createElement("button");
    deleteBtn.textContent = "Delete";
    deleteBtn.classList.add("delete-btn");

    deleteBtn.onclick = (e) => {
        e.stopPropagation();
        deleteSection(title);
    };

    card.onclick = () => {
        window.location.href = `group-ambot.html?name=${encodeURIComponent(title)}`;
    };

    buttonBox.appendChild(renameBtn);
    buttonBox.appendChild(deleteBtn);

    card.appendChild(text);
    card.appendChild(buttonBox);

    cardContainer.appendChild(card);
}

/* TOGGLE ADD FORM */
document.getElementById("add-section-btn").onclick = () => {
    const form = document.getElementById("add-section-form");
    form.style.display = form.style.display === "none" ? "flex" : "none";
};

/* LOGOUT */
function logout() {
    window.location.href = "login.html";
}

/* LOAD ON START */
window.onload = loadSections;
</script>




</body>
</html>
